---
layout: post
title: Machine Learning System
date: 2025-11-06
categories: system-design
---

Here is some notes for components in Machine Learning System.

# 1. System foundations

## 1.1. ML Systems

A ML Systems contains 3 components:

- Model.

- Infras.

- Data.

## 1.2. Different than traditional software

1. Traditional software crashes visibly while ML systems can degrade silently without triggering alerts.

2. Traditional software requires more monitoring than ML systems.

3. ML systems always fail faster than traditional software.

4. Traditional software cannot handle errors while ML systems have built-in error recovery.

## 1.3. The Core Insight of the Bitter Lesson

- Systems Over Algorithms: This insight suggests that systems engineering, rather than just algorithmic development, has become the determinant of AI success.

## 1.4. Historical evoluation

### 1.4.1. Symbolic AI Era

- First idea:

```python
Problem: "If the number of customers Tom gets is twice the square of 20% of the number of advertisements he runs, and the number of advertisements is 45, what is the number of customers Tom gets?"
```

- Optimize idea:

```python
STUDENT would:
1. Parse the English text
2. Convert it to algebraic equations
3. Solve the equation: n = 2(0.2 × 45)²
4. Provide the answer: 162 customers
```

### 1.4.2. Expert System Era

- Due to STUDENT system, can only solve the specific domain (math calculating).

- The general system => rule-based access for the AI system.

```python
Rule Example from MYCIN:
IF
The infection is primary-bacteremia
The site of the culture is one of the sterile sites
The suspected portal of entry is the gastrointestinal tract
THEN
Found suggestive evidence (0.7) that infection is bacteroid
```

### 1.4.3. Statistical Learning Era

- Due to the Yes/No questions are too much ambigious and not based on logical, we used statistical larning for more convince.

- The pivotal transition away from rule-based systems toward methods that learn from data

```python
Rule-based (1980s):
IF contains("viagra") OR contains("winner") THEN spam

Statistical (1990s):
P(spam|word) = (frequency in spam emails) / (total frequency)

Combined using Naive Bayes:
P(spam|email) ฀ P(spam) × ฀ P(word|spam)
```

### 1.4.4. Shallow Learning Era

- Characterized by classical machine learning algorithms and heavy reliance on human-engineered features.

=> Feature selections focused

### 1.4.5. Deep Learning Era

- Utilizes multiple hierarchical layers to automatically discover patterns and representations from raw data

=> Automatically learning and choose learning parameters.

## 1.5. Core Engineering Challenges

### 1.5.1. Data Drift & Distribution Shifts

- Data Drift: too much data, and it consumes both right data and wrong data with the same problem. For example, for the problem A, there are 2 sources that answered B and C => To verify this, the knowledge need knowledge and brainstorming thinking.

- Distribution Shifts: Dynamic data seasonally => For example, about recommmendation for clothes, the data should be dynamic in summer and winter.

=> The data patterns changed overtime.

### 1.5.2. Model Challenges

- Infrastructure costs: host, how to know we are training the right patterns (because cost computing time), how long to train it.

- Generation Gap: 99% accurate in experience, 75% correctness in production.

### 1.5.3. System Challenges

- 1 service for model prediction.

- 1 service for contraints, ad-hocs rules.

### 1.5.4. Ethical Considerations

- A model: maybe bias for CV have demographics.

- Sensive data.

- Black boxes: Only return the data in boxes without understanding the internal reasons.

## 1.6. The Five Engineering Disciplines

1. **Data Engineer:** quality assurance, scale management, drift detection and distribution shift.

2. **Training System:** implement parallel training to optimize, balance training costs againist model quality.

3. **Deployment Infrastructure**

4. **Operations and Monitoring**

5. **Ethics and Governance**
