<!DOCTYPE html>
<html>
  <head>
    <title>
      {% if page.title %}{{ page.title }} ‚Äì {% endif %}{{ site.name }} ‚Äì {{
      site.description }}
    </title>

    {% include meta.html %}

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link
      rel="stylesheet"
      type="text/css"
      href="{{ site.baseurl }}/style.css" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="{{ site.name }} - {{ site.description }}"
      href="{{ site.baseurl }}/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->

    <style>
      :root {
        --bg-color: #ffffff;
        --text-color: #000000;
        --quote-bg: #f0f0f0;
        --quote-text: #000000;
        --nav-link-color: #000000;
        --active-color: #007bff;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-color);
        transition: background-color 0.3s, color 0.3s;
        margin: 0;
        font-family: Arial, sans-serif;
      }

      .avatar {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 50%;
        margin-right: 15px;
      }

      nav {
        width: 500px;
      }

      .active {
        color: var(--active-color);
        font-weight: bold;
      }

      .nav-link {
        text-decoration: none;
        color: var(--nav-link-color);
        margin-right: 10px;
      }

      .wrapper-masthead {
        margin-bottom: 0px;
      }

      /* Improve text contrast and quotes in dark mode */
      body.dark-mode {
        --bg-color: #0f0f0f;
        --text-color: #f5f5f5;
        --quote-bg: #1e1e1e;
        --quote-text: #f5f5f5;
        --nav-link-color: #f0f0f0;
        --active-color: #4da3ff;
      }

      body.dark-mode h1,
      body.dark-mode h2,
      body.dark-mode h3,
      body.dark-mode h4,
      body.dark-mode h5 {
        color: #ffffff;
      }

      /* Quote box (light & dark mode consistent) */
      .quote-box {
        background-color: var(--quote-bg);
        color: var(--quote-text);
        border: none;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        line-height: 1.7;
        font-style: italic;
        padding: 16px 12px;
        width: 700px;
        margin: 20px auto;
        border-radius: 15px;
      }

      /* Explicit text color to avoid link inheritance */
      .quote-box a,
      .quote-box span,
      .quote-box p {
        color: inherit !important;
      }

      /* Dark mode quote adjustments */
      body.dark-mode .quote-box {
        background-color: #1a1a1a;
        color: #ffffff;
        border-color: rgba(255, 255, 255, 0.15);
      }

      .dark-mode .quote-box {
        background-color: var(--quote-bg);
        color: var(--quote-text);
      }

      /* Toggle button */
      .theme-toggle {
        background: none;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 6px 10px;
        cursor: pointer;
        font-size: 0.9rem;
        margin-left: 10px;
        color: inherit;
        transition: background-color 0.3s, color 0.3s;
      }

      .theme-toggle:hover {
        background-color: rgba(0, 0, 0, 0.05);
      }

      @media (max-width: 768px) {
        .avatar {
          height: 80px;
        }
        nav {
          width: 300px;
          margin: 10px auto;
        }
        .site-name a {
          font-size: 1.5rem;
        }
        .site-description {
          font-size: 0.8rem;
        }
        .quote-box {
          width: 95%;
          font-size: 1rem;
        }
      }
    </style>
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
            ">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              ">
              <a href="{{ site.baseurl }}">
                <img src="{{ site.avatar }}" class="avatar" />
              </a>
              <div
                class="site-info"
                style="
                  display: flex;
                  flex-direction: column;
                  justify-content: center;
                ">
                <h1 class="site-name">
                  <a href="{{ site.baseurl }}">{{ site.name }}</a>
                </h1>
                <p class="site-description">{{ site.description }}</p>
              </div>
            </div>

            <!-- üåô Toggle Button -->
            <button id="theme-toggle" class="theme-toggle">üåô Dark Mode</button>
          </div>

          <nav>
            <a href="{{ site.baseurl }}/about" class="nav-link">About me</a>

            <a
              href="{{ site.baseurl }}/categories/coding-practice"
              class="nav-link"
              >Coding Interview</a
            >

            <a
              href="{{ site.baseurl }}/categories/system-design"
              class="nav-link"
              >System Design</a
            >

            <a
              href="{{ site.baseurl }}/categories/cloud-solution"
              class="nav-link"
              >Cloud Solution</a
            >

            <a href="{{ site.baseurl }}/categories/leadership" class="nav-link"
              >Leadership</a
            >

            <a
              href="{{ site.baseurl }}/categories/mindset-psychology"
              class="nav-link"
              >Mindset</a
            >

            <a
              href="https://eggplant-sternum-78b.notion.site/Daily-Reflections-29d77827b775804c89a0dff759b6cc16"
              class="nav-link"
              >Daily Reflections</a
            >

            <a href="{{ site.baseurl }}/categories/pinned-docs" class="nav-link"
              >Pinned Docs</a
            >
          </nav>
        </header>
      </div>
    </div>

    <div class="quote-box">
      Keep in mind that we have time ‚Äî quality is over quantity. Things take
      time. We can't expect to fully grasp big topics all at once, but that's
      okay. It's about cherishing the process, embracing each small step, and
      steadily applying what we learn to practice.
    </div>

    <div id="main" role="main" class="container">{{ content }}</div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">{% include svg-icons.html %}</footer>
      </div>
    </div>

    {% include analytics.html %}

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const currentPath = window.location.pathname;

        document.querySelectorAll('.nav-link').forEach((link) => {
          const linkPath = link
            .getAttribute('href')
            .replace('{{ site.baseurl }}', '');

          if (currentPath === '/' || currentPath === '') {
            if (linkPath === '/about') {
              link.classList.add('active');
            }
          } else if (currentPath.includes(linkPath) && linkPath !== '/') {
            link.classList.add('active');
          }
        });

        // üåô Dark mode logic
        const toggleBtn = document.getElementById('theme-toggle');
        const currentTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia(
          '(prefers-color-scheme: dark)'
        ).matches;

        if (currentTheme === 'dark' || (!currentTheme && prefersDark)) {
          document.body.classList.add('dark-mode');
          toggleBtn.textContent = '‚òÄÔ∏è Light Mode';
        }

        toggleBtn.addEventListener('click', () => {
          document.body.classList.toggle('dark-mode');
          const isDark = document.body.classList.contains('dark-mode');
          toggleBtn.textContent = isDark ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
          localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });
      });
    </script>
  </body>
</html>
