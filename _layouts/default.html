<!DOCTYPE html>
<html>
  <head>
    <title>
      {% if page.title %}{{ page.title }} â€“ {% endif %}{{ site.name }} â€“ {{
      site.description }}
    </title>

    {% include meta.html %}

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link
      rel="stylesheet"
      type="text/css"
      href="{{ site.baseurl }}/style.css" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="{{ site.name }} - {{ site.description }}"
      href="{{ site.baseurl }}/feed.xml" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->

    <style>
      :root {
        --bg-color: #ffffff;
        --text-color: #000000;
        --quote-bg: #f0f0f0;
        --quote-text: #000000;
        --nav-link-color: #000000;
        --active-color: #007bff;

        /* âœ… Fixed nav colors */
        --nav-link-color: #111; /* Black for light mode */
        --nav-icon-color: #111;
        --nav-hover-color: #007bff;
      }

      body.dark-mode {
        --text-color: #ffffff;
        --nav-icon-color: #ffffff; /* Dark mode icon color */
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-color);
        transition: background-color 0.3s, color 0.3s;
        margin: 0;
        font-family: Arial, sans-serif;
      }

      .avatar {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 50%;
        margin-right: 15px;
      }

      .active {
        color: var(--active-color);
        font-weight: bold;
      }

      .wrapper-masthead {
        margin-bottom: 0px;
      }

      /* Improve text contrast and quotes in dark mode */
      body.dark-mode {
        --bg-color: #0f0f0f;
        --text-color: #f5f5f5;
        --quote-bg: #1e1e1e;
        --quote-text: #f5f5f5;
        --nav-link-color: #f0f0f0;
        --active-color: #4da3ff;
      }

      body.dark-mode h1,
      body.dark-mode h2,
      body.dark-mode h3,
      body.dark-mode h4,
      body.dark-mode h5 {
        color: #ffffff;
      }

      /* Quote box (light & dark mode consistent) */
      .quote-box {
        background-color: var(--quote-bg);
        color: var(--quote-text);
        border: none;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        line-height: 1.7;
        font-style: italic;
        padding: 16px 12px;
        width: 700px;
        margin: 20px auto;
        border-radius: 15px;
      }

      /* Explicit text color to avoid link inheritance */
      .quote-box a,
      .quote-box span,
      .quote-box p {
        color: inherit !important;
      }

      /* Dark mode quote adjustments */
      body.dark-mode .quote-box {
        background-color: #1a1a1a;
        color: #ffffff;
        border-color: rgba(255, 255, 255, 0.15);
      }

      .dark-mode .quote-box {
        background-color: var(--quote-bg);
        color: var(--quote-text);
      }

      /* Toggle button */
      .theme-toggle {
        background: none;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 6px 10px;
        cursor: pointer;
        font-size: 0.9rem;
        margin-left: 10px;
        color: inherit;
        transition: background-color 0.3s, color 0.3s;
      }

      .theme-toggle:hover {
        background-color: rgba(0, 0, 0, 0.05);
      }

      @media (max-width: 768px) {
        .avatar {
          width: 80px;
          height: 80px;
        }
        nav {
          width: 300px;
          margin: 10px auto;
        }
        .site-name a {
          font-size: 1.5rem;
        }
        .site-description {
          font-size: 0.8rem;
        }
        .quote-box {
          width: 95%;
          font-size: 1rem;
        }
      }

      .nav-link {
        text-decoration: none;
        font-weight: 600;
        color: var(--nav-link-color);
        display: flex;
        align-items: center;
        gap: 0.4rem;
        transition: all 0.2s ease;
      }

      .nav-link i {
        color: var(--nav-icon-color);
        transition: color 0.25s ease;
      }

      .nav-link:hover i {
        color: var(--nav-hover-color);
      }

      .nav-link.active {
        color: var(--active-color);
      }

      .nav-link.active i {
        color: var(--active-color);
      }

      .nav-link:hover {
        color: var(--nav-hover-color);
        transform: translateY(-2px);
        border-bottom: 2px solid var(--nav-hover-color);
      }

      .navbar {
        display: grid;
        grid-template-columns: repeat(3, minmax(180px, 1fr));
        justify-items: center;
        justify-content: center;
        gap: 1rem;
        padding: 1.5rem 0;
      }

      @media (max-width: 700px) {
        .navbar {
          grid-template-columns: repeat(2, minmax(140px, 1fr));
        }
      }
    </style>
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
            ">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              ">
              <a href="{{ site.baseurl }}">
                <img src="{{ site.avatar }}" class="avatar" />
              </a>
              <div
                class="site-info"
                style="
                  display: flex;
                  flex-direction: column;
                  justify-content: center;
                ">
                <h1 class="site-name">
                  <a href="{{ site.baseurl }}">{{ site.name }}</a>
                </h1>
                <p class="site-description">{{ site.description }}</p>
              </div>
            </div>

            <!-- ðŸŒ™ Toggle Button -->
            <button id="theme-toggle" class="theme-toggle">ðŸŒ™ Dark Mode</button>
          </div>

          <nav class="navbar">
            <a href="{{ site.baseurl }}/about" class="nav-link">
              <i class="fa-solid fa-user"></i> About me
            </a>
            <a
              href="{{ site.baseurl }}/categories/coding-practice"
              class="nav-link">
              <i class="fa-solid fa-code"></i> Coding Interview
            </a>
            <a
              href="{{ site.baseurl }}/categories/system-design"
              class="nav-link">
              <i class="fa-solid fa-diagram-project"></i> System Design
            </a>
            <a
              href="{{ site.baseurl }}/categories/cloud-solution"
              class="nav-link">
              <i class="fa-solid fa-cloud"></i> Cloud Solution
            </a>
            <a href="{{ site.baseurl }}/categories/leadership" class="nav-link">
              <i class="fa-solid fa-users-gear"></i> Leadership
            </a>
            <a
              href="{{ site.baseurl }}/categories/mindset-psychology"
              class="nav-link">
              <i class="fa-solid fa-brain"></i> Mindset
            </a>
            <a
              href="https://eggplant-sternum-78b.notion.site/Daily-Reflections-29d77827b775804c89a0dff759b6cc16"
              class="nav-link">
              <i class="fa-regular fa-calendar-check"></i> Daily Reflections
            </a>
            <a
              href="{{ site.baseurl }}/categories/pinned-docs"
              class="nav-link">
              <i class="fa-solid fa-thumbtack"></i> Pinned Docs
            </a>
          </nav>
        </header>
      </div>
    </div>

    <div class="quote-box">
      Keep in mind that we have time â€” quality is over quantity. Things take
      time. We can't expect to fully grasp big topics all at once, but that's
      okay. It's about cherishing the process, embracing each small step, and
      steadily applying what we learn to practice.
    </div>

    <div id="main" role="main" class="container">{{ content }}</div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">{% include svg-icons.html %}</footer>
      </div>
    </div>

    {% include analytics.html %}

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const currentPath = window.location.pathname;

        document.querySelectorAll('.nav-link').forEach((link) => {
          const linkPath = link
            .getAttribute('href')
            .replace('{{ site.baseurl }}', '');

          if (currentPath === '/' || currentPath === '') {
            if (linkPath === '/about') {
              link.classList.add('active');
            }
          } else if (currentPath.includes(linkPath) && linkPath !== '/') {
            link.classList.add('active');
          }
        });

        // ðŸŒ™ Dark mode logic
        const toggleBtn = document.getElementById('theme-toggle');
        const storedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia(
          '(prefers-color-scheme: dark)'
        ).matches;

        // Determine current theme
        let currentTheme = storedTheme || (prefersDark ? 'dark' : 'light');

        // Helper: check if current screen is mobile
        const isMobile = () => window.matchMedia('(max-width: 768px)').matches;

        // Helper: update button text depending on theme + device
        function updateButtonText(isDark) {
          toggleBtn.textContent = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
        }

        // Apply initial theme
        if (currentTheme === 'dark') {
          document.body.classList.add('dark-mode');
        }
        updateButtonText(currentTheme === 'dark');

        // Handle toggle click
        toggleBtn.addEventListener('click', () => {
          document.body.classList.toggle('dark-mode');
          const isDark = document.body.classList.contains('dark-mode');
          localStorage.setItem('theme', isDark ? 'dark' : 'light');
          updateButtonText(isDark);
        });

        window.addEventListener('resize', () => {
          const isDark = document.body.classList.contains('dark-mode');
          updateButtonText(isDark);
        });
      });
    </script>
  </body>
</html>
